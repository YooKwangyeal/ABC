<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>WebApp Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background-color: #f5f5f5;
      }
      button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
      }
      button:hover {
        background-color: #0056b3;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ WebApp í…ŒìŠ¤íŠ¸</h1>

      <h3>ë¡œì»¬ ì €ì¥ì†Œ í…ŒìŠ¤íŠ¸</h3>
      <button onclick="save()">ğŸ“ ë°ì´í„° ì €ì¥</button>
      <button onclick="load()">ğŸ“– ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</button>

      <h3>HTTP ìš”ì²­ í…ŒìŠ¤íŠ¸</h3>
      <button onclick="callPostAPI()">POST ìš”ì²­</button>
      <button onclick="callGetAPI()">GET ìš”ì²­</button>

      <div
        id="result"
        style="
          margin-top: 20px;
          padding: 10px;
          background-color: #f8f9fa;
          border-radius: 5px;
        "
      ></div>
    </div>

    <script>
      function save() {
        AndroidInterface.saveData("name", "í™ê¸¸ë™");
        AndroidInterface.saveData("age", "25");
        showResult("âœ… ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }

      function load() {
        const name = AndroidInterface.loadData("name");
        const age = AndroidInterface.loadData("age");
        showResult(`ğŸ“– ë¶ˆëŸ¬ì˜¨ ë°ì´í„°:<br>ì´ë¦„: ${name}<br>ë‚˜ì´: ${age}`);
      }

      function callPostAPI() {
        const json = JSON.stringify({
          question: "ì•ˆë…•í•˜ì„¸ìš”!",
          timestamp: new Date().toISOString(),
        });
        AndroidInterface.postRequest(
          "http://10.0.2.2:8000/ask",
          json,
          "onPostResult"
        );
        showResult("ğŸ“¡ POST ìš”ì²­ì„ ë³´ë‚´ëŠ” ì¤‘...");
      }

      function callGetAPI() {
        AndroidInterface.getRequest(
          "http://10.0.2.2:8000/status",
          "onGetResult"
        );
        showResult("ğŸ“¡ GET ìš”ì²­ì„ ë³´ë‚´ëŠ” ì¤‘...");
      }

      function onPostResult(response) {
        showResult(`ğŸ“¬ POST ì‘ë‹µ:<br>${response}`);
      }

      function onGetResult(response) {
        showResult(`ğŸ“¬ GET ì‘ë‹µ:<br>${response}`);
      }

      function showResult(message) {
        document.getElementById("result").innerHTML = message;
      }
    </script>
  </body>
</html>
