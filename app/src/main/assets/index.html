<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>ê°œì¸ ì •ë³´ AI ì–´ì‹œìŠ¤í„´íŠ¸</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background-color: #f5f5f5;
        margin: 0;
      }
      button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 24px;
        margin: 10px 0;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        width: 100%;
      }
      button:hover {
        background-color: #0056b3;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        background-color: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }
      .section {
        margin-bottom: 30px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 10px;
        background-color: #f8f9fa;
      }
      textarea {
        width: 100%;
        padding: 15px;
        margin: 10px 0;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-sizing: border-box;
        font-size: 14px;
        line-height: 1.5;
      }
      #result {
        margin-top: 20px;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid #007bff;
        min-height: 80px;
        white-space: pre-wrap;
        font-size: 14px;
        line-height: 1.6;
      }
      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
      }
      h3 {
        color: #555;
        margin-bottom: 15px;
      }
      .example {
        font-size: 12px;
        color: #666;
        font-style: italic;
        margin-top: 5px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ABC</h1>

      <!-- ê°œì¸ì •ë³´ ì„¹ì…˜ -->
      <div class="section">
        <h3>ğŸ‘¤ ì •ë³´ ì…ë ¥</h3>
        <textarea
          id="personalInfo"
          rows="6"
          placeholder="ììœ ë¡­ê²Œ ë³¸ì¸ì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”..."
        ></textarea>
        <div class="example">
          ì˜ˆì‹œ: "ë‚˜ëŠ” 26ì„¸ í™ê¸¸ë™ì´ê³  ì¶•êµ¬ë¥¼ ì¢‹ì•„í•˜ëŠ” ì´ˆë“±í•™êµ ì„ ìƒë‹˜ì…ë‹ˆë‹¤.
          ì„œìš¸ì— ì‚´ê³  ìˆìœ¼ë©° ì·¨ë¯¸ëŠ” ë…ì„œì™€ ì˜í™” ê°ìƒì…ë‹ˆë‹¤."
        </div>
        <button onclick="savePersonalInfo()">ğŸ’¾ ë‚´ ì •ë³´ ì €ì¥</button>
        <button onclick="loadPersonalInfo()">ğŸ“– ì €ì¥ëœ ì •ë³´ í™•ì¸</button>
      </div>

      <!-- AI ì§ˆë¬¸ ì„¹ì…˜ -->
      <div class="section">
        <h3>ğŸ¯ ì •ë³´ì— ëŒ€í•´ ì§ˆë¬¸í•˜ê¸°</h3>
        <textarea
          id="question"
          rows="3"
          placeholder="ì €ì¥ëœ ì •ë³´ì— ëŒ€í•´ ì§ˆë¬¸í•´ë³´ì„¸ìš”..."
        ></textarea>
        <div class="example">
          ì˜ˆì‹œ: "ë‚˜ì´ëŠ”?", "ì§ì—…ì€ ë­ì•¼?", "ì¢‹ì•„í•˜ëŠ” ì·¨ë¯¸ëŠ”?", "ì‚¬ëŠ” ê³³ì€?"
        </div>
        <button onclick="askAboutMe()">ğŸš€ ì§ˆë¬¸í•˜ê¸°</button>
      </div>

      <div id="result">ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤...</div>
    </div>

    <script>
      // ê°œì¸ì •ë³´ ê´€ë ¨ í•¨ìˆ˜ë“¤
      function savePersonalInfo() {
        const personalInfo = document
          .getElementById("personalInfo")
          .value.trim();

        if (!personalInfo) {
          showResult("âŒ ê°œì¸ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
          return;
        }

        const data = {
          personalInfo: personalInfo,
          timestamp: new Date().toISOString(),
        };

        AndroidInterface.saveProfile(JSON.stringify(data));
        showResult(
          "âœ… ê°œì¸ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì €ì¥ëœ ë‚´ìš©:\n" + personalInfo
        );
      }

      function loadPersonalInfo() {
        const profileJson = AndroidInterface.getProfile();
        if (profileJson) {
          try {
            const data = JSON.parse(profileJson);
            document.getElementById("personalInfo").value =
              data.personalInfo || "";
            showResult(
              "ğŸ“– ì €ì¥ëœ ê°œì¸ì •ë³´ë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!\n\n" +
                (data.personalInfo || "ì €ì¥ëœ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.")
            );
          } catch (e) {
            showResult("âŒ ì €ì¥ëœ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + e.message);
          }
        } else {
          showResult("âŒ ì €ì¥ëœ ê°œì¸ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.");
        }
      }

      function askAboutMe() {
        const question = document.getElementById("question").value.trim();
        if (!question) {
          showResult("âŒ ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
          return;
        }

        showResult("ğŸ¤” AIê°€ ë‹¹ì‹ ì˜ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê³  ìˆìŠµë‹ˆë‹¤...");
        AndroidInterface.askQuestion(question);
      }

      // AI ì‘ë‹µì„ ë°›ëŠ” ì½œë°± í•¨ìˆ˜
      function showResponse(response) {
        showResult("ğŸ¤– AI ë‹µë³€:\n\n" + response);
      }

      function showResult(message) {
        document.getElementById("result").textContent = message;
      }

      // í˜ì´ì§€ ë¡œë“œì‹œ ì €ì¥ëœ ì •ë³´ ìë™ ë¡œë“œ
      window.onload = function () {
        setTimeout(loadPersonalInfo, 100);
      };
    </script>
  </body>
</html>
